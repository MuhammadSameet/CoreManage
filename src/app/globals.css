@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== GLOBAL FONT SCALING & TYPOGRAPHY ========== */
:root {
    --background: #f8fafc;
    --foreground: #0f172a;
    --primary-blue: #1e40af;
    --font-body: 'Inter', system-ui, -apple-system, sans-serif;

    /* Moderate scale: ~16px desktop, slightly larger than default but not overwhelming */
    --text-xs: clamp(0.6875rem, 0.65rem + 0.2vw, 0.75rem);
    --text-sm: clamp(0.8125rem, 0.78rem + 0.15vw, 0.875rem);
    --text-base: clamp(0.875rem, 0.82rem + 0.25vw, 1rem);
    --text-lg: clamp(1rem, 0.92rem + 0.35vw, 1.125rem);
    --text-xl: clamp(1.125rem, 1.02rem + 0.4vw, 1.25rem);
    --text-2xl: clamp(1.25rem, 1.12rem + 0.5vw, 1.5rem);
    --text-3xl: clamp(1.375rem, 1.2rem + 0.6vw, 1.75rem);

    --leading-tight: 1.25;
    --leading-normal: 1.5;
    --leading-relaxed: 1.6;

    --text-primary: #0f172a;
    --text-secondary: #475569;
    --text-muted: #64748b;
}

/* Mobile: body ~14px, readable, no overflow */
@media (max-width: 640px) {
    :root {
        --text-base: clamp(0.875rem, 2vw + 0.5rem, 0.9375rem);
        --text-sm: clamp(0.8125rem, 1.5vw + 0.45rem, 0.875rem);
        --text-lg: clamp(0.9375rem, 2vw + 0.5rem, 1.0625rem);
        --text-xl: clamp(1.0625rem, 2.5vw + 0.5rem, 1.125rem);
        --text-2xl: clamp(1.125rem, 3vw + 0.5rem, 1.25rem);
        --text-3xl: clamp(1.25rem, 3.5vw + 0.5rem, 1.375rem);
    }
}

body {
    color: var(--foreground);
    background: var(--background);
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
}

h1, .text-h1 { font-size: var(--text-3xl); font-weight: 700; line-height: var(--leading-tight); }
h2, .text-h2 { font-size: var(--text-2xl); font-weight: 700; line-height: var(--leading-tight); }
h3, .text-h3 { font-size: var(--text-xl); font-weight: 600; line-height: var(--leading-tight); }
h4, .text-h4 { font-size: var(--text-lg); font-weight: 600; line-height: var(--leading-normal); }

.text-secondary { color: var(--text-secondary); }
.text-muted { color: var(--text-muted); }

/* ========== TABLES ========== */
.mantine-Table-root {
    font-size: var(--text-base);
    line-height: var(--leading-relaxed);
}
.mantine-Table-th {
    font-size: var(--text-sm);
    font-weight: 600;
    padding: 0.625rem 0.75rem;
    line-height: var(--leading-normal);
    color: var(--text-secondary);
}
.mantine-Table-td {
    font-size: var(--text-base);
    padding: 0.625rem 0.75rem;
    line-height: var(--leading-relaxed);
    color: var(--text-primary);
}
.mantine-Table-tr:hover .mantine-Table-td {
    background-color: rgba(0, 0, 0, 0.02);
}

/* ========== BUTTONS ========== */
button:not([data-disabled]),
[role="button"]:not([data-disabled]),
.mantine-Button-root {
    font-family: var(--font-body);
    font-size: var(--text-base);
    font-weight: 600;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    line-height: var(--leading-normal);
}
button:focus-visible,
[role="button"]:focus-visible,
.mantine-Button-root:focus-visible {
    outline: 2px solid var(--primary-blue);
    outline-offset: 2px;
}
.mantine-Button-root:hover:not([data-disabled]) {
    filter: brightness(0.97);
}
.mantine-Button-root:active:not([data-disabled]) {
    filter: brightness(0.95);
}

/* ========== FORMS & INPUTS ========== */
.mantine-TextInput-input,
.mantine-Select-input,
.mantine-PasswordInput-input,
.mantine-NumberInput-input,
.mantine-Input-input {
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    min-height: 2.5rem;
    padding: 0.5rem 0.75rem;
}
.mantine-TextInput-label,
.mantine-Select-label,
.mantine-PasswordInput-label,
.mantine-InputWrapper-label {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-primary);
}
.mantine-InputWrapper-description {
    font-size: var(--text-sm);
    color: var(--text-muted);
}

/* ========== MODALS ========== */
.mantine-Modal-title {
    font-size: var(--text-lg);
    font-weight: 600;
}
.mantine-Modal-body {
    font-size: var(--text-base);
    line-height: var(--leading-relaxed);
}

/* ========== NOTIFICATIONS ========== */
.mantine-Notification-title {
    font-size: var(--text-sm);
    font-weight: 600;
}
.mantine-Notification-description {
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

/* ========== STATS CARDS ========== */
.stats-card-title {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-muted);
    letter-spacing: 0.02em;
}
.stats-card-value {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--text-primary);
    line-height: var(--leading-tight);
}

/* ========== PAGE LAYOUT ========== */
.page-heading {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--text-primary);
}
.page-description {
    font-size: var(--text-sm);
    color: var(--text-muted);
}

@media print {
    body * { visibility: hidden; }
    #payment-slip-print,
    #payment-slip-print * { visibility: visible; }
    #payment-slip-print {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        min-height: 100vh;
        background: white;
        z-index: 99999;
    }
}
